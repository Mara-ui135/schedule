<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<link rel="stylesheet" href="styles-misha.css">
</head>
<body>
    
    </head>
    <body>
      <header>
        <div></div>
        <nav>
          <a href="index.html">Головна</a>
          <a href="about.html">Про Програму</a>
          <a href="misha.html">Планувальник</a>
        </nav>
      </header>
      <div class="container">
        <h1>Мій розклад на тиждень</h1>
        <div class="days" id="days">
          <div class="day" data-day="Понеділок">Понеділок</div>
          <div class="day" data-day="Вівторок">Вівторок</div>
          <div class="day" data-day="Середа">Середа</div>
          <div class="day" data-day="Четвер">Четвер</div>
          <div class="day" data-day="П'ятниця">П'ятниця</div>
          <div class="day" data-day="Субота">Субота</div>
          <div class="day" data-day="Неділя">Неділя</div>
        </div>
        <textarea id="taskInput" placeholder="Введіть задачу..."></textarea>
        <button id="submitBtn">Відправити</button>
        <div class="tasks" id="tasks"></div>
      </div>
    
      <script>
        const days = document.querySelectorAll('.day');
        let activeDay = null;
        const tasksContainer = document.getElementById('tasks');
        const submitBtn = document.getElementById('submitBtn');
        const taskInput = document.getElementById('taskInput');
      
        let tasks = JSON.parse(localStorage.getItem('tasks')) || {};
      
        // Обновляем метки с задачами при загрузке
        highlightDaysWithTasks();
      
        days.forEach(day => {
          day.addEventListener('click', () => {
            days.forEach(d => d.classList.remove('active'));
            day.classList.add('active');
            activeDay = day.dataset.day;
            renderTasks();
          });
        });
      
        submitBtn.addEventListener('click', () => {
          if (!activeDay) {
            alert('Выберите день недели!');
            return;
          }
          const taskText = taskInput.value.trim();
          if (!taskText) return;
      
          if (!tasks[activeDay]) tasks[activeDay] = [];
          tasks[activeDay].push(taskText);
          taskInput.value = '';
          saveTasks();
          renderTasks();
          highlightDaysWithTasks();
        });
      
        function renderTasks() {
          tasksContainer.innerHTML = '';
          if (activeDay && tasks[activeDay]) {
            tasks[activeDay].forEach((t, index) => {
              const taskEl = document.createElement('div');
              taskEl.className = 'task';
              taskEl.innerText = t;
              taskEl.addEventListener('click', () => {
                tasks[activeDay].splice(index, 1);
                if (tasks[activeDay].length === 0) delete tasks[activeDay];
                saveTasks();
                renderTasks();
                highlightDaysWithTasks();
              });
              tasksContainer.appendChild(taskEl);
            });
          }
        }
      
        function saveTasks() {
          localStorage.setItem('tasks', JSON.stringify(tasks));
        }
      
        function highlightDaysWithTasks() {
          days.forEach(day => {
            const dayName = day.dataset.day;
            if (tasks[dayName] && tasks[dayName].length > 0) {
              day.classList.add('has-tasks');
            } else {
              day.classList.remove('has-tasks');
            }
          });
        }
      </script>
    </body>

</html>